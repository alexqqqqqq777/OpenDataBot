# Технічні вимоги до сервера для LWData Bot

> Повна інструкція з встановлення — див. [README.md](../README.md)

## Мінімальні вимоги

| Параметр | Мінімум | Рекомендовано |
|----------|---------|---------------|
| **CPU** | 1 vCPU | 2 vCPU |
| **RAM** | 1 GB | 2 GB |
| **Диск** | 10 GB SSD | 20 GB SSD |
| **ОС** | Ubuntu 22.04+ / Debian 11+ | Ubuntu 24.04 LTS |
| **Python** | 3.11+ | 3.12–3.13 |

## Поточне використання ресурсів

На основі реального моніторингу (сервер з 36 компаніями, 80 підписок, 8 користувачів):

| Ресурс | Використання |
|--------|--------------|
| **RAM процесу** | ~180 MB |
| **CPU** | < 1% (idle), до 5% при перевірках |
| **База даних** | ~2 MB |
| **Кеш API (в БД)** | ~50 MB (залежить від кількості перевірок) |
| **Логи** | до 50 MB (з ротацією 10MB × 5) |
| **Virtual env** | ~100 MB |
| **Шрифти PDF** | ~1.5 MB |
| **Загальний розмір** | ~200 MB |

## Мережеві вимоги

| Сервіс | URL | Порт | Напрямок |
|--------|-----|------|----------|
| Telegram API | api.telegram.org | 443 | Вихідний |
| OpenDataBot API | opendatabot.com | 443 | Вихідний |
| Clarity Project API | clarity-project.info | 443 | Вихідний |
| GitHub Gist | gist.githubusercontent.com | 443 | Вихідний |

**Firewall:** Дозволити лише вихідні з'єднання на порт 443 (HTTPS). Вхідні порти НЕ потрібні.

## Залежності системи

```bash
sudo apt update && sudo apt upgrade -y
sudo apt install -y python3 python3-pip python3-venv git
```

## Масштабування

| Кількість компаній | RAM | Диск | БД |
|--------------------|-----|------|----|
| 1–50 | 1 GB | 10 GB | SQLite |
| 50–200 | 2 GB | 20 GB | SQLite |
| 200–500 | 2 GB | 30 GB | SQLite / PostgreSQL |
| 500+ | 4 GB+ | 50 GB+ | PostgreSQL |

## Безпека

- [ ] Налаштувати UFW firewall (`sudo ufw allow OpenSSH && sudo ufw enable`)
- [ ] Використовувати SSH ключі замість паролів
- [ ] Регулярно оновлювати систему (`apt update && apt upgrade`)
- [ ] Зберігати `.env` файл з правами 600 (`chmod 600 .env`)
- [ ] Не комітити секрети в git (`.env` в `.gitignore`)

---

*Оновлено: 16.02.2026 | Версія: 2.0*
